<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:include="/common/common_top :: commonTop"></head>

<body class="hold-transition skin-blue-light fixed">
<div class="wrapper">

    <!-- Main Header -->
    <header class="main-header" th:include="/common/main_header :: mainHeader">

    </header>
    <!-- Left side column. contains the logo and sidebar -->
    <aside class="main-sidebar" th:include="/common/main_sidebar :: mainSidebar">

    </aside>

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">

        <section class="content container-fluid">
            <div th:include="${'/'+title+'/list'}"></div>
        </section>
        <!-- /.content -->
    </div>

    <footer class="main-footer">
        <div class="pull-right hidden-xs">
        </div>
        <strong>Copyright &copy; 2016 <a href="#">Company</a>.</strong> All rights reserved.
    </footer>

    <!-- Control Sidebar -->
    <aside class="control-sidebar control-sidebar-dark"
           th:include="/common/main_controlSidebar :: controlSidebar"></aside>
</div>
<div th:include="/common/onload_js :: onloadJS"></div>
<!-- 加载页面-->
<script>
    $(function () {

      $('#student_table').DataTable({
            lengthMenu: [ 10, 20, 30, 50, 100 ],
            destroy: true,
            paging:true,
            serverSide: true,
            autoWidth: true,
            deferRender:true,
            ordering:true,
            orderCellsTop: true,
            ajax:{
                url:"/student/findAll",
                type: "POST",
                data: function (data) {
                    return JSON.stringify(data);
                },
                dataType: "json",
                processData: false,
                async : false,
                contentType: 'application/json;charset=UTF-8'

            },

              columns: [//对接收到的json格式数据进行处理，data为json中对应的key
                {targets: 0, data: "id"},
                {targets: 1, data: "studentName"},
                {targets: 2, data: "studentQQ"},
                {targets: 3, data: "qunName"},
                {targets: 4, data: "qunNum"},
                {targets: 5, data: "stage"},
                {targets: 6, data: "remark"}
            ],
            language: { //中文支持
                sUrl: "/webjars/datatables-plugins/1.10.16/i18n/Chinese.json"
            }
        });
    });
</script>
</body>
</html>